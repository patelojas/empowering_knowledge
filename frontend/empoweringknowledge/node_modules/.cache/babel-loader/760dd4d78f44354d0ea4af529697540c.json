{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\src\\\\EnergyBills.js\";\nimport React, { Component } from \"react\";\nimport './Navbar.css';\nimport Highlighter from \"react-highlight-words\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport myPagination from \"Pagination.js\";\nimport { Table, Col, Pagination, PaginationItem, PaginationLink, Form, Input, FormGroup } from 'reactstrap';\nexport class EnergyBills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      terms: [],\n      items: [],\n      input: \"\",\n      page: 1,\n      isLoading: false\n    };\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleEnter = this.handleEnter.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    //this.setState({isLoading: true});\n    var input = this.state.input.split(\" \");\n    console.log(input);\n    var url = 'https://api.empoweringknowledge.me/api/bills?page=' + this.state.page;\n\n    if (input[0] != \"\") {\n      url = 'https://api.empoweringknowledge.me/api/bills?q={\"filters\":[{\"or\":[';\n      url += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n      url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%' + input[0] + '%\"}';\n\n      for (var i = 1; i < input.length; i++) {\n        url += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n        url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%' + input[i] + '%\"}';\n      }\n\n      url += \"]}]}&page=\" + this.state.page;\n    }\n\n    console.log(url);\n    fetch(url).then(res => res.json()).then(data => {\n      this.setState({\n        items: data.objects\n      });\n    }).catch(console.log);\n  }\n\n  handleTermChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  getName(value) {\n    if (value != null) {\n      return \"\" + value.first_name + \" \" + value.last_name;\n    }\n  }\n\n  handleSearch() {\n    this.componentDidMount();\n  }\n\n  handleEnter(e) {\n    if (e.key === 13) {\n      this.handleSearch();\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.handleSearch();\n  }\n\n  changePage(newPage) {\n    this.setState({\n      page: newPage\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          isLoading = _this$state.isLoading;\n    console.log(isLoading);\n\n    if (isLoading) {\n      console.log(isLoading);\n      return false;\n    }\n\n    console.log(items);\n    return React.createElement(\"div\", {\n      className: \"EnergyBills\",\n      style: {\n        paddingTop: \"2%\",\n        width: \"100%\",\n        height: \"60%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"searchbox\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 'auto',\n        offset: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Search\",\n      onChange: this.handleTermChange,\n      onKeyDown: this.handleEnter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Energy Bills\"), React.createElement(Col, {\n      sm: {\n        size: 'auto'\n      },\n      style: {\n        paddingTop: \"2%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Sponsor\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Committees\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Introduced Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"House Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Senate Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Democrat Cosponsors\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Republican Cosponsors\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, items.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/bill/\" + item.bill_id,\n      to: \"/bill/\" + item.bill_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/politician/\" + item.sponsor_id,\n      to: \"/politician/\" + item.sponsor_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + this.getName(item.sponsor_rs),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.committees,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.introduced_date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.house_passage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.senate_passage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.cosponsors_by_party_D,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.cosponsors_by_party_R,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })))))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"myPagination\", {\n      componentDidMount: this.componentDidMount(),\n      changePage: this.changePage(),\n      size: \"lg\",\n      style: {\n        justifyContent: 'center',\n        paddingTop: '3%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })));\n  }\n\n}\nexport default EnergyBills;","map":{"version":3,"sources":["C:\\Users\\Docker\\swe\\EmPoweringKnowledge\\cs373-web\\frontend\\empoweringknowledge\\src\\EnergyBills.js"],"names":["React","Component","Highlighter","myPagination","Table","Col","Pagination","PaginationItem","PaginationLink","Form","Input","FormGroup","EnergyBills","constructor","props","state","terms","items","input","page","isLoading","handleTermChange","bind","handleSearch","handleEnter","handleSubmit","componentDidMount","split","console","log","url","i","length","fetch","then","res","json","data","setState","objects","catch","e","target","value","getName","first_name","last_name","key","preventDefault","changePage","newPage","render","paddingTop","width","height","size","offset","map","item","bill_id","title","sponsor_id","sponsor_rs","committees","introduced_date","house_passage","senate_passage","cosponsors_by_party_D","cosponsors_by_party_R","justifyContent"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport './Navbar.css';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport myPagination from \"Pagination.js\";\r\nimport {\r\n    Table,Col, Pagination, PaginationItem, PaginationLink, Form, Input, FormGroup \r\n     } from 'reactstrap';\r\n\r\nexport class EnergyBills extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            terms: [],\r\n            items: [],\r\n            input:\"\",\r\n            page: 1,\r\n            isLoading: false,\r\n        }\r\n        this.handleTermChange = this.handleTermChange.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.handleEnter = this.handleEnter.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        \r\n    }\r\n    componentDidMount() {\r\n        //this.setState({isLoading: true});\r\n        var input = this.state.input.split(\" \");\r\n        console.log(input)\r\n        var url = 'https://api.empoweringknowledge.me/api/bills?page=' + this.state.page;\r\n        if(input[0] != \"\"){\r\n          url = 'https://api.empoweringknowledge.me/api/bills?q={\"filters\":[{\"or\":[';\r\n          url += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          for(var i = 1; i < input.length; i++){\r\n              url += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          }\r\n      \r\n          url += \"]}]}&page=\"+ this.state.page;\r\n        }\r\n        console.log(url);\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({items:data.objects});  \r\n        })\r\n        .catch(console.log)\r\n\r\n    }\r\n    \r\n    handleTermChange(e) {\r\n\r\n        this.setState({ input: e.target.value });\r\n      \r\n    }\r\n    getName(value){\r\n      if(value != null){\r\n          return (\"\" + value.first_name + \" \" + value.last_name)\r\n      }\r\n    }\r\n    handleSearch() {\r\n      \r\n      this.componentDidMount();\r\n    }\r\n\r\n    handleEnter(e) {\r\n        \r\n        if (e.key === 13) {\r\n        this.handleSearch();\r\n        }\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.handleSearch();\r\n    }\r\n\r\n    changePage(newPage){\r\n      this.setState({page:newPage});\r\n    }\r\n      \r\n    render() {\r\n        const {items, isLoading} = this.state;\r\n        console.log(isLoading)\r\n        if (isLoading){\r\n            console.log(isLoading)\r\n            return false;\r\n        }\r\n        \r\n        console.log(items)        \r\n        \r\n      return (\r\n        <div className=\"EnergyBills\" style={{paddingTop: \"2%\",width:\"100%\", height:\"60%\"}}>\r\n          <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n                <FormGroup row>\r\n              \r\n                <Col sm={{ size: 'auto', offset: 5 }}>\r\n                    <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    onChange={this.handleTermChange}\r\n                    onKeyDown={this.handleEnter}\r\n                    />\r\n                </Col>\r\n                </FormGroup>\r\n\r\n                </Form>\r\n           <div>\r\n            <h4>Energy Bills</h4>\r\n            <Col sm={{ size: 'auto'}} style={{paddingTop: \"2%\"}}>\r\n            <Table hover responsive>\r\n                <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>Title</th>\r\n                    <th>Sponsor</th>\r\n                    <th>Committees</th>\r\n                    <th>Introduced Date</th>\r\n                    <th>House Passage</th>\r\n                    <th>Senate Passage</th>\r\n                    <th>Democrat Cosponsors</th>\r\n                    <th>Republican Cosponsors</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                {items.map(item =>\r\n\r\n                <tr>\r\n                    <th scope=\"row\"></th>\r\n                    <td> <a href= {\"/bill/\" + item.bill_id}   to={\"/bill/\" + item.bill_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.title}/></a></td>\r\n                    <td> <a href= {\"/politician/\" + item.sponsor_id}   to={\"/politician/\" + item.sponsor_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + this.getName(item.sponsor_rs)}/></a></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.committees}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.introduced_date}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.house_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.senate_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_D}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_R}/></td>\r\n                </tr>\r\n                )}\r\n                </tbody>\r\n            </Table>\r\n                </Col>\r\n            </div>\r\n        <div>\r\n          <myPagination componentDidMount = {this.componentDidMount()} changePage = {this.changePage()} size=\"lg\" style={{justifyContent: 'center', paddingTop:'3%'}} />       \r\n        </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default EnergyBills;"]},"metadata":{},"sourceType":"module"}