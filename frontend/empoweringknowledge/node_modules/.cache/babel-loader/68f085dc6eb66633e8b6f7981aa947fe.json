{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\src\\\\search.js\";\nimport React, { Component, useState } from \"react\";\nimport './Navbar.css';\nimport Highlighter from \"react-highlight-words\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport classnames from 'classnames';\nimport { Table, Col, TabContent, Pagination, PaginationItem, PaginationLink, Form, FormGroup, Label, Input, TabPane, Nav, NavItem, NavLink, Card, Button, CardTitle, CardText, Row } from 'reactstrap';\nexport class Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getBillResults = () => {\n      let searchTerms = [...new Set(this.props.name.toLowerCase().trim().split(\" \"))];\n      var billData;\n      searchTerms.map(query => billData.add(this.state.bills.filter(bill => {\n        return bill.committees.toLowerCase().includes(query) || bill.introduced_date.toLowerCase().includes(query) || bill.senate_passage.toLowerCase().includes(query) || bill.title.toLowerCase().includes(query) || bill.sponsor_id.toLowerCase().includes(query);\n      })));\n      var array = [];\n\n      for (var x = 0; x < billData.length; x++) {\n        array.push(React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \" \", billData[x].title, \" \", React.createElement(Highlighter, {\n          highlightClassName: \"HighlightClass\",\n          searchWords: searchTerms,\n          autoEscape: true,\n          textToHighlight: billData[x].title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \" \", billData[x].sponsor_id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \" \", billData[x].committees), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \" \", billData[x].introduced_date), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \" \", billData[x].house_passage), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \" \", billData[x].senate_passage), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \" \", billData[x].cosponsors_by_party_D), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \" \", billData[x].cosponsors_by_party_R)) // <PersonCard image={people[x].image}\n        //             name={people[x].name}\n        //             birth_date={people[x].birth_date}\n        //             birth_place={people[x].birth_place}\n        //             minority_1={people[x].minority_1}\n        //             minority_2={people[x].minority_2}\n        //             occupation={people[x].occupation}\n        //             industry={people[x].industry}\n        //             filter={[query]}/>\n        );\n      }\n\n      return array;\n    };\n\n    const _useState = useState('1'),\n          _useState2 = _slicedToArray(_useState, 2),\n          activeTab = _useState2[0],\n          setActiveTab = _useState2[1];\n\n    const toggle = tab => {\n      if (activeTab !== tab) setActiveTab(tab);\n    };\n\n    this.state = {\n      politicians: [],\n      states: [],\n      bills: []\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    var total = 300;\n\n    for (var i = 0; i < total; i++) {\n      fetch('https://api.empoweringknowledge.me/api/bills' + \"?page=\" + i).then(res => res.json()).then(data => {\n        total = data.total_pages;\n        this.setState({\n          bills: data.objects\n        });\n      }).catch(console.log);\n    }\n\n    for (var i = 0; i < total; i++) {\n      fetch('https://api.empoweringknowledge.me/api/congressmembers' + \"?page=\" + i).then(res => res.json()).then(data => {\n        total = data.total_pages;\n        this.setState({\n          politicians: data.objects\n        });\n      }).catch(console.log);\n    }\n\n    for (var i = 0; i < total; i++) {\n      fetch('https://api.empoweringknowledge.me/api/states' + \"?page=\" + i).then(res => res.json()).then(data => {\n        total = data.total_pages;\n        this.setState({\n          states: data.objects\n        });\n      }).catch(console.log);\n    }\n  }\n\n  render() {\n    if (this.getBillResults().length < 1) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \" Search Results for: \\\"\", this.props.name, \"\\\" \"), React.createElement(\"h3\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginTop: '10%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"There are no results for your search.\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      tabs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: activeTab === '1'\n      }),\n      onClick: () => {\n        toggle('1');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Bills\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: activeTab === '2'\n      }),\n      onClick: () => {\n        toggle('2');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Politicians\"))), React.createElement(TabContent, {\n      activeTab: activeTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tabId: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Sponsor\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Committees\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Introduced Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"House Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Senate Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Democrat Cosponsors\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Republican Cosponsors\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.getBillResults().map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, item))))))), React.createElement(TabPane, {\n      tabId: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Card, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Special Title Treatment\"), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"With supporting text below as a natural lead-in to additional content.\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Go somewhere\"))), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Card, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Special Title Treatment\"), React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"With supporting text below as a natural lead-in to additional content.\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Go somewhere\")))))));\n  }\n\n}\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\Docker\\swe\\EmPoweringKnowledge\\cs373-web\\frontend\\empoweringknowledge\\src\\search.js"],"names":["React","Component","useState","Highlighter","classnames","Table","Col","TabContent","Pagination","PaginationItem","PaginationLink","Form","FormGroup","Label","Input","TabPane","Nav","NavItem","NavLink","Card","Button","CardTitle","CardText","Row","Search","constructor","props","getBillResults","searchTerms","Set","name","toLowerCase","trim","split","billData","map","query","add","state","bills","filter","bill","committees","includes","introduced_date","senate_passage","title","sponsor_id","array","x","length","push","house_passage","cosponsors_by_party_D","cosponsors_by_party_R","activeTab","setActiveTab","toggle","tab","politicians","states","componentDidMount","loadData","total","i","fetch","then","res","json","data","total_pages","setState","objects","catch","console","log","render","display","justifyContent","alignItems","marginTop","active","item"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAO,cAAP;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAO,sCAAP;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SACIC,KADJ,EACUC,GADV,EACeC,UADf,EAC2BC,UAD3B,EACuCC,cADvC,EACuDC,cADvD,EACuEC,IADvE,EAC6EC,SAD7E,EACwFC,KADxF,EAC+FC,KAD/F,EACuGC,OADvG,EACgHC,GADhH,EACqHC,OADrH,EAC8HC,OAD9H,EACuIC,IADvI,EAC6IC,MAD7I,EACqJC,SADrJ,EACgKC,QADhK,EAC0KC,GAD1K,QAEY,YAFZ;AAGA,OAAO,MAAMC,MAAN,SAAqBvB,SAArB,CAA+B;AAClCwB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqDnBC,cArDmB,GAqDF,MAAM;AACnB,UAAIC,WAAW,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQ,KAAKH,KAAL,CAAWI,IAAX,CAAgBC,WAAhB,GAA8BC,IAA9B,GAAqCC,KAArC,CAA2C,GAA3C,CAAR,CAAJ,CAAlB;AACA,UAAIC,QAAJ;AACAN,MAAAA,WAAW,CAACO,GAAZ,CAAgBC,KAAK,IACjBF,QAAQ,CAACG,GAAT,CAAa,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAyBC,IAAD,IAAU;AAC3C,eAAOA,IAAI,CAACC,UAAL,CAAgBX,WAAhB,GAA8BY,QAA9B,CAAuCP,KAAvC,KACJK,IAAI,CAACG,eAAL,CAAqBb,WAArB,GAAmCY,QAAnC,CAA4CP,KAA5C,CADI,IACkDK,IAAI,CAACI,cAAL,CAAoBd,WAApB,GAAkCY,QAAlC,CAA2CP,KAA3C,CADlD,IAEPK,IAAI,CAACK,KAAL,CAAWf,WAAX,GAAyBY,QAAzB,CAAkCP,KAAlC,CAFO,IAEqCK,IAAI,CAACM,UAAL,CAAgBhB,WAAhB,GAA8BY,QAA9B,CAAuCP,KAAvC,CAF5C;AAGH,OAJY,CAAb,CADJ;AAOA,UAAIY,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,QAAQ,CAACgB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACtCD,QAAAA,KAAK,CAACG,IAAN,CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMjB,QAAQ,CAACe,CAAD,CAAR,CAAYH,KAAlB,OAAyB,oBAAC,WAAD;AACzB,UAAA,kBAAkB,EAAC,gBADM;AAEzB,UAAA,WAAW,EAAElB,WAFY;AAGzB,UAAA,UAAU,EAAE,IAHa;AAIzB,UAAA,eAAe,EAAEM,QAAQ,CAACe,CAAD,CAAR,CAAYH,KAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAzB,CAFJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMZ,QAAQ,CAACe,CAAD,CAAR,CAAYF,UAAlB,CATJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMb,QAAQ,CAACe,CAAD,CAAR,CAAYP,UAAlB,CAVJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMR,QAAQ,CAACe,CAAD,CAAR,CAAYL,eAAlB,CAXJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMV,QAAQ,CAACe,CAAD,CAAR,CAAYG,aAAlB,CAZJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMlB,QAAQ,CAACe,CAAD,CAAR,CAAYJ,cAAlB,CAbJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMX,QAAQ,CAACe,CAAD,CAAR,CAAYI,qBAAlB,CAdJ,EAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAMnB,QAAQ,CAACe,CAAD,CAAR,CAAYK,qBAAlB,CAfJ,CADJ,CAkBI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BJ;AA4BH;;AACD,aAAON,KAAP;AAEH,KAhGkB;;AAAA,sBAEmB9C,QAAQ,CAAC,GAAD,CAF3B;AAAA;AAAA,UAERqD,SAFQ;AAAA,UAEGC,YAFH;;AAIf,UAAMC,MAAM,GAAGC,GAAG,IAAI;AAClB,UAAGH,SAAS,KAAKG,GAAjB,EAAsBF,YAAY,CAACE,GAAD,CAAZ;AACzB,KAFD;;AAIA,SAAKpB,KAAL,GAAa;AACTqB,MAAAA,WAAW,EAAG,EADL;AAETC,MAAAA,MAAM,EAAG,EAFA;AAGTrB,MAAAA,KAAK,EAAG;AAHC,KAAb;AAMH;;AAGDsB,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL;AACH;;AAGDA,EAAAA,QAAQ,GAAE;AACN,QAAIC,KAAK,GAAG,GAAZ;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,KAAnB,EAA0BC,CAAC,EAA3B,EAA8B;AAC1BC,MAAAA,KAAK,CAAC,iDAAgD,QAAhD,GAA2DD,CAA5D,CAAL,CACCE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,IAAD,IAAU;AACZN,QAAAA,KAAK,GAAGM,IAAI,CAACC,WAAb;AACA,aAAKC,QAAL,CAAc;AAAEhC,UAAAA,KAAK,EAAE8B,IAAI,CAACG;AAAd,SAAd;AACH,OALD,EAMCC,KAND,CAMOC,OAAO,CAACC,GANf;AAOH;;AACD,SAAI,IAAIX,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,KAAnB,EAA0BC,CAAC,EAA3B,EAA8B;AAC1BC,MAAAA,KAAK,CAAC,2DAA0D,QAA1D,GAAqED,CAAtE,CAAL,CACCE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,IAAD,IAAU;AACZN,QAAAA,KAAK,GAAGM,IAAI,CAACC,WAAb;AACA,aAAKC,QAAL,CAAc;AAAEZ,UAAAA,WAAW,EAAEU,IAAI,CAACG;AAApB,SAAd;AACH,OALD,EAMCC,KAND,CAMOC,OAAO,CAACC,GANf;AAOH;;AACD,SAAI,IAAIX,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,KAAnB,EAA0BC,CAAC,EAA3B,EAA8B;AAC1BC,MAAAA,KAAK,CAAC,kDAAiD,QAAjD,GAA4DD,CAA7D,CAAL,CACCE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEOG,IAAD,IAAU;AACZN,QAAAA,KAAK,GAAGM,IAAI,CAACC,WAAb;AACA,aAAKC,QAAL,CAAc;AAAEX,UAAAA,MAAM,EAAES,IAAI,CAACG;AAAf,SAAd;AACH,OALD,EAMCC,KAND,CAMOC,OAAO,CAACC,GANf;AAOH;AACJ;;AA+CDC,EAAAA,MAAM,GAAE;AAEJ,QAAG,KAAKjD,cAAL,GAAsBuB,MAAtB,GAA+B,CAAlC,EAAsC;AAClC,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,KAAK,EAAE;AAAC2B,UAAAA,OAAO,EAAE,MAAV;AAAkBC,UAAAA,cAAc,EAAC,QAAjC;AAA2CC,UAAAA,UAAU,EAAC;AAAtD,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAmG,KAAKrD,KAAL,CAAWI,IAA9G,QADF,EAEE;AAAI,QAAA,KAAK,EAAE;AAAC+C,UAAAA,OAAO,EAAE,MAAV;AAAkBC,UAAAA,cAAc,EAAC,QAAjC;AAA2CC,UAAAA,UAAU,EAAC,QAAtD;AAAgEC,UAAAA,SAAS,EAAE;AAA3E,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFF,CADF;AAQH;;AAED,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,GAAD;AAAK,MAAA,IAAI,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAE5E,UAAU,CAAC;AAAE6E,QAAAA,MAAM,EAAE1B,SAAS,KAAK;AAAxB,OAAD,CADvB;AAEE,MAAA,OAAO,EAAE,MAAM;AAAEE,QAAAA,MAAM,CAAC,GAAD,CAAN;AAAc,OAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EASE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAErD,UAAU,CAAC;AAAE6E,QAAAA,MAAM,EAAE1B,SAAS,KAAK;AAAxB,OAAD,CADvB;AAEE,MAAA,OAAO,EAAE,MAAM;AAAEE,QAAAA,MAAM,CAAC,GAAD,CAAN;AAAc,OAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CATF,CADA,EAmBA,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEF,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,UAAU,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BARJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BATJ,CADA,CADF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,KAAK5B,cAAL,GAAsBQ,GAAtB,CAA0B+C,IAAI,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKA,IADL,CADH,CAFD,CAdF,CADA,CADF,CADF,CADF,EA8BE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAFF,EAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,CADF,CADF,EAQE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,EAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAFF,EAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,CADF,CARF,CADF,CA9BF,CAnBA,CADJ;AAuEH;;AAvLiC;AAyLtC,eAAe1D,MAAf","sourcesContent":["import React, {Component,  useState} from \"react\";\r\nimport './Navbar.css';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport classnames from 'classnames';\r\nimport {\r\n    Table,Col, TabContent, Pagination, PaginationItem, PaginationLink, Form, FormGroup, Label, Input , TabPane, Nav, NavItem, NavLink, Card, Button, CardTitle, CardText, Row\r\n     } from 'reactstrap';\r\nexport class Search extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const [activeTab, setActiveTab] = useState('1');\r\n\r\n        const toggle = tab => {\r\n            if(activeTab !== tab) setActiveTab(tab);\r\n        }\r\n\r\n        this.state = {\r\n            politicians : [],\r\n            states : [],\r\n            bills : []\r\n\r\n        }\r\n    }\r\n\r\n    \r\n    componentDidMount(){\r\n        this.loadData();\r\n    }\r\n\r\n    \r\n    loadData(){\r\n        var total = 300;\r\n        for(var i = 0; i < total; i++){\r\n            fetch('https://api.empoweringknowledge.me/api/bills'+ \"?page=\" + i)\r\n            .then(res => res.json())\r\n            .then((data) => {\r\n                total = data.total_pages\r\n                this.setState({ bills: data.objects});      \r\n            })\r\n            .catch(console.log)\r\n        }\r\n        for(var i = 0; i < total; i++){\r\n            fetch('https://api.empoweringknowledge.me/api/congressmembers'+ \"?page=\" + i)\r\n            .then(res => res.json())\r\n            .then((data) => {\r\n                total = data.total_pages\r\n                this.setState({ politicians: data.objects});      \r\n            })\r\n            .catch(console.log)\r\n        }\r\n        for(var i = 0; i < total; i++){\r\n            fetch('https://api.empoweringknowledge.me/api/states'+ \"?page=\" + i)\r\n            .then(res => res.json())\r\n            .then((data) => {\r\n                total = data.total_pages\r\n                this.setState({ states: data.objects});      \r\n            })\r\n            .catch(console.log)\r\n        }\r\n    }\r\n\r\n    getBillResults=  () => {\r\n        let searchTerms = [...new Set(this.props.name.toLowerCase().trim().split(\" \"))];\r\n        var billData;\r\n        searchTerms.map(query => \r\n            billData.add(this.state.bills.filter((bill) => {\r\n                return bill.committees.toLowerCase().includes(query)\r\n                || bill.introduced_date.toLowerCase().includes(query) || bill.senate_passage.toLowerCase().includes(query) ||\r\n                bill.title.toLowerCase().includes(query) || bill.sponsor_id.toLowerCase().includes(query)\r\n            }))\r\n        )\r\n        var array = [];\r\n        for (var x = 0; x < billData.length; x++) {\r\n            array.push(\r\n                <tr>\r\n                    <th scope=\"row\"></th>\r\n                    <td> {billData[x].title} <Highlighter\r\n                    highlightClassName=\"HighlightClass\"\r\n                    searchWords={searchTerms}\r\n                    autoEscape={true}\r\n                    textToHighlight={billData[x].title}\r\n                    />\r\n                    </td>\r\n                    <td> {billData[x].sponsor_id}</td>\r\n                    <td> {billData[x].committees}</td>\r\n                    <td> {billData[x].introduced_date}</td>\r\n                    <td> {billData[x].house_passage}</td>\r\n                    <td> {billData[x].senate_passage}</td>\r\n                    <td> {billData[x].cosponsors_by_party_D}</td>\r\n                    <td> {billData[x].cosponsors_by_party_R}</td>\r\n                </tr>\r\n                // <PersonCard image={people[x].image}\r\n                //             name={people[x].name}\r\n                //             birth_date={people[x].birth_date}\r\n                //             birth_place={people[x].birth_place}\r\n                //             minority_1={people[x].minority_1}\r\n                //             minority_2={people[x].minority_2}\r\n                //             occupation={people[x].occupation}\r\n                //             industry={people[x].industry}\r\n                //             filter={[query]}/>\r\n            );\r\n        }\r\n        return array;\r\n\r\n    };\r\n\r\n    render(){\r\n       \r\n        if(this.getBillResults().length < 1 ) {\r\n            return (\r\n              <div>\r\n                <h1 style={{display: 'flex', justifyContent:'center', alignItems:'center'}}> Search Results for: \"{this.props.name}\" </h1>\r\n                <h3 style={{display: 'flex', justifyContent:'center', alignItems:'center', marginTop: '10%'}}>\r\n                  There are no results for your search.\r\n                </h3>\r\n              </div>\r\n            );\r\n        }\r\n      \r\n        return(\r\n            <div>\r\n            <Nav tabs>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '1' })}\r\n                  onClick={() => { toggle('1'); }}\r\n                >\r\n                  Bills\r\n                </NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '2' })}\r\n                  onClick={() => { toggle('2'); }}\r\n                >\r\n                  Politicians\r\n                </NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n            <TabContent activeTab={activeTab}>\r\n              <TabPane tabId=\"1\">\r\n                <Row>\r\n                  <Col sm=\"12\">\r\n                  <Table hover responsive>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Title</th>\r\n                        <th>Sponsor</th>\r\n                        <th>Committees</th>\r\n                        <th>Introduced Date</th>\r\n                        <th>House Passage</th>\r\n                        <th>Senate Passage</th>\r\n                        <th>Democrat Cosponsors</th>\r\n                        <th>Republican Cosponsors</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        \r\n                    {this.getBillResults().map(item =>\r\n                        <tr>\r\n                            {item}\r\n                        </tr>\r\n                    )}\r\n                    </tbody>\r\n                    </Table>\r\n                  </Col>\r\n                </Row>\r\n              </TabPane>\r\n              <TabPane tabId=\"2\">\r\n                <Row>\r\n                  <Col sm=\"6\">\r\n                    <Card body>\r\n                      <CardTitle>Special Title Treatment</CardTitle>\r\n                      <CardText>With supporting text below as a natural lead-in to additional content.</CardText>\r\n                      <Button>Go somewhere</Button>\r\n                    </Card>\r\n                  </Col>\r\n                  <Col sm=\"6\">\r\n                    <Card body>\r\n                      <CardTitle>Special Title Treatment</CardTitle>\r\n                      <CardText>With supporting text below as a natural lead-in to additional content.</CardText>\r\n                      <Button>Go somewhere</Button>\r\n                    </Card>\r\n                  </Col>\r\n                </Row>\r\n              </TabPane>\r\n            </TabContent>\r\n          </div>\r\n        )\r\n    }\r\n}\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}