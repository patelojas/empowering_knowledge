{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\src\\\\Representatives.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport MyPagination from \"./Pagination.js\";\nimport { Button, ButtonGroup, Col, Card, CardImg, CardBody, CardTitle, CardSubtitle, CardDeck, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Form, FormGroup, Input, Pagination, PaginationItem, Row } from 'reactstrap';\nimport { BrowserRouter } from 'react-router-dom';\nimport Highlighter from \"react-highlight-words\";\nimport './Navbar.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { RepresentativeInstance } from './RepresentativeInstance.js';\nconst POLIURL = 'https://api.empoweringknowledge.me/api/congressmembers';\nconst ORDER = '\"order_by\":[{\"field\":\"first_name\",\"direction\":\"';\nexport class Representatives extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pages: 0,\n      nextpage: 2,\n      lastpage: 1,\n      items: [],\n      input: \"\",\n      isLoading: false,\n      sortBy: \"asc\",\n      attributes: {\n        first_name: \"\",\n        last_name: \"\",\n        title: \"\",\n        party: \"\",\n        state: \"\"\n      },\n      dropdownOpen: {\n        title: false,\n        party: false,\n        state: false\n      },\n      dropDownSelections: {\n        title: \"None\",\n        party: \"None\",\n        state: \"None\"\n      }\n    };\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleEnter = this.handleEnter.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    var url = this.buildUrl();\n    console.log(url);\n    fetch(url).then(res => res.json()).then(data => {\n      this.setState({\n        items: data.objects,\n        items: data.objects,\n        pages: data.total_pages,\n        isLoading: false\n      }, () => {\n        if (this.state.pages <= 1) this.setState({\n          nextpage: 1\n        });\n      });\n    }).catch(console.log);\n  }\n  /*\r\n   * Builds the url that will be used to fetch the data.\r\n   */\n\n\n  buildUrl() {\n    var filter = \"\";\n    var url = \"\";\n    filter = this.buildFilter();\n    filter = this.buildSearch(filter); // If there aren't any filters or terms for searching, use default url\n    // that displays data in ascending order\n\n    if (filter === \"\") {\n      url = POLIURL + '?q={' + ORDER + this.state.sortBy + '\"}]}&page=' + this.state.page;\n    } else {\n      // Else, add the filters and search query\n      url = POLIURL + '?q={\"filters\":[' + filter + '],' + ORDER + this.state.sortBy + '\"}]}&page=' + this.state.page;\n    }\n\n    return url;\n  }\n  /*\r\n   * Loops through all of the of the model's filterable attributes and checks if \r\n   * there is a filter being applied. If there is, it adds that filter query to \r\n   * the filter string. \r\n   */\n\n\n  buildFilter() {\n    var filter = \"\";\n    var keys = Object.keys(this.state.attributes); // Grabs list of attributes\n\n    var currAttribute = \"\";\n    var currAttributeVal = \"\";\n\n    for (var i = 2; i < keys.length; i++) {\n      currAttribute = keys[i];\n      currAttributeVal = this.state.attributes[currAttribute]; // Checks if currAttribute is title, if it is then do a \"like\" operation\n\n      if (currAttribute === \"title\") {\n        if (currAttributeVal !== \"\") {\n          if (filter === \"\") {\n            filter += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%' + currAttributeVal + '%\"}';\n          } else {\n            filter += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%' + currAttributeVal + '%\"}';\n          }\n        }\n      } // Checks the rest of the attributes\n      else if (currAttributeVal !== \"\") {\n          if (filter === \"\") {\n            filter += '{\"name\":\"' + currAttribute + '\",\"op\":\"eq\",\"val\":\"' + currAttributeVal + '\"}';\n          } else {\n            filter += ',{\"name\":\"' + currAttribute + '\",\"op\":\"eq\",\"val\":\"' + currAttributeVal + '\"}';\n          }\n        }\n    }\n\n    return filter;\n  }\n  /*\r\n   * Loops through all of the model's attributes and adds a search query for each\r\n   * term the user inputs. \r\n   */\n\n\n  buildSearch(filter) {\n    var search = \"\";\n    var input = [];\n    var keys = Object.keys(this.state.attributes);\n    var currAttribute = \"\";\n    input = this.state.input.split(\" \"); // List of terms the user inputs\n    // Checks if there's atleast one search term\n\n    if (input[0] != \"\") {\n      // Checks if anything precedes this query\n      // If something does, add a comma\n      if (filter === \"\") {\n        search = '{\"or\":[';\n      } else {\n        search = ',{\"or\":[';\n      } // Loops through each of the attributes\n\n\n      for (var j = 0; j < keys.length; j++) {\n        // Loops through each term the user inputs\n        for (var i = 0; i < input.length; i++) {\n          currAttribute = keys[j]; // Special case, adds comma if this is the first entry in the \n          // search query \n\n          if (currAttribute === \"first_name\" && i == 0) search += '{\"name\":\"' + currAttribute + '\",\"op\":\"like\",\"val\":\"\\%' + input[i] + '\\%\"}';else search += ',{\"name\":\"' + currAttribute + '\",\"op\":\"like\",\"val\":\"\\%' + input[i] + '\\%\"}';\n        }\n      }\n\n      search += \"]}\";\n      filter += search;\n    }\n\n    return filter;\n  }\n  /*\r\n   * Sets the state input variable to what the user types.\r\n   */\n\n\n  handleTermChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n  /*\r\n   * Calls componentDidMount so the data that is displayed is updated.\r\n   */\n\n\n  handleSearch() {\n    this.componentDidMount();\n  }\n  /*\r\n   * If the user presses 'Enter', calls the handleSearch() method so that the \r\n   * search is made.\r\n   */\n\n\n  handleEnter(e) {\n    if (e.key === 13) {\n      this.handleSearch();\n    }\n  }\n  /*\r\n  * Updates page variables that are used in pagination when the user clicks \r\n  * on a new page number to go to. Then calls componentDidMount() so that the \r\n  * new data is loaded. \r\n  */\n\n\n  handlePageClick(newPage) {\n    if (newPage === 1) {\n      this.setState({\n        lastpage: newPage,\n        page: newPage,\n        nextpage: 2\n      }, () => {\n        this.componentDidMount();\n      });\n    } else if (newPage === this.state.pages) {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage\n      }, () => {\n        this.componentDidMount();\n      });\n    } else {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage + 1\n      }, () => {\n        this.componentDidMount();\n      });\n    }\n  }\n  /*\r\n   * If the user clicks on the 'Submit' buttion, calls the handleSearch() \r\n   * method so that the search is made.\r\n   */\n\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.handleSearch();\n  }\n  /*\r\n   * Sets the state sort variable to what the user chooses. Either 'asc' \r\n   * or 'desc.' Then calls componentDidMount() so that the new data is loaded. \r\n   */\n\n\n  handleSorting(sort) {\n    this.setState({\n      sortBy: sort\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n  /*\r\n   * Updates the state attributes variable to what the user chooses for the \r\n   * specified filter. Then calls componentDidMount() so that the new data \r\n   * is loaded. \r\n   */\n\n\n  handleFilter(attribute, filter) {\n    var newAttributes = this.state.attributes;\n    newAttributes[attribute] = filter;\n    this.setState({\n      attributes: newAttributes,\n      page: 1,\n      nextpage: 2,\n      lastpage: 1\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n  /*\r\n   * Resets all the attributes and variables that are used for filtering, \r\n   * searching, and pagination to their default. Then calls componentDidMount() \r\n   * so that the new data is loaded. \r\n   */\n\n\n  handleReset() {\n    this.setState({\n      dropDownSelections: {\n        \"title\": \"None\",\n        \"party\": \"None\",\n        \"state\": \"None\"\n      },\n      input: \"\",\n      attributes: {\n        first_name: \"\",\n        last_name: \"\",\n        title: \"\",\n        party: \"\",\n        state: \"\"\n      },\n      page: 1,\n      nextpage: 2,\n      lastpage: 1\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n  /*\r\n   * Toggles the dropdown option for the specified filterable attribute.\r\n   */\n\n\n  setDropdownOpen(attribute) {\n    var newdropdownOpen = this.state.dropdownOpen;\n    newdropdownOpen[attribute] = !newdropdownOpen[attribute];\n    this.setState({\n      dropdownOpen: newdropdownOpen\n    });\n  }\n  /*\r\n   * Sets the title variable for the dropdown menu of the correct filter. Then\r\n   * checks the attribute that was passed in. Updates variables where needed and \r\n   * calls handleFilter() with the attribute name and value.\r\n   */\n\n\n  setDropDownTitle(attribute, selection) {\n    var newDropDownSelections = this.state.dropDownSelections;\n    newDropDownSelections[attribute] = selection;\n    this.setState({\n      dropDownSelections: newDropDownSelections\n    });\n\n    if (selection === \"None\") {\n      selection = \"\";\n    } // Special case, If attribute is \"party,\" then change selection to D or R\n    // based on what selection is equal to\n\n\n    if (attribute === \"party\") {\n      switch (selection) {\n        case \"Democratic\":\n          selection = \"D\";\n          break;\n\n        case \"Republican\":\n          selection = \"R\";\n          break;\n      }\n    }\n\n    this.handleFilter(attribute, selection);\n  }\n  /* \r\n   * Renders the button group for filters.\r\n   */\n\n\n  renderFilterButtonGroup(attribute, filterOptions, filterTitles) {\n    return React.createElement(Dropdown, {\n      isOpen: this.state.dropdownOpen[attribute],\n      toggle: () => this.setDropdownOpen(attribute),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, \"Filter by \", filterTitles[attribute], \": \", this.state.dropDownSelections[attribute]), React.createElement(DropdownMenu, {\n      modifiers: {\n        setMaxHeight: {\n          enabled: true,\n          order: 890,\n          fn: data => {\n            return _objectSpread({}, data, {\n              styles: _objectSpread({}, data.styles, {\n                overflow: 'auto',\n                maxHeight: 150\n              })\n            });\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, filterOptions[attribute].map(selection => React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(attribute, selection),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, selection))), ' ');\n  }\n  /*\r\n   * Renders the buttons for filters and sorting.\r\n   */\n\n\n  renderTop() {\n    // Lists of all of the options for filtering for each attribute\n    var filterOptions = {\n      title: [\"None\", \"Representative\", \"Senator\"],\n      party: [\"Democratic\", \"Republican\"],\n      state: [\"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\", \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\", \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"]\n    }; // Titles for the filter buttons, \"Filter by: _____\"\n\n    var filterTitles = {\n      title: \"Title\",\n      party: \"party\",\n      state: \"State\"\n    }; // Grabs list of filterable attributes\n\n    var attributesList = Object.keys(filterOptions);\n    return React.createElement(\"container\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, // Renders all the filter buttons\n    attributesList.map(attribute => this.renderFilterButtonGroup(attribute, filterOptions, filterTitles)), React.createElement(Button, {\n      onClick: () => this.handleReset(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }, \"Reset\"), ' ')), React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => this.handleSorting(\"asc\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, \"Ascending\"), ' ', React.createElement(Button, {\n      color: \"secondary\",\n      onClick: () => this.handleSorting(\"desc\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, \"Descending\"), ' ')), React.createElement(Form, {\n      className: \"searchbox\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      row: true,\n      style: {\n        paddingTop: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 'auto',\n        offset: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Search\",\n      onChange: this.handleTermChange,\n      onKeyDown: this.handleEnter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    })))));\n  }\n  /*\r\n   * Renders the body of a card item.\r\n   */\n\n\n  renderAttribute(item, attribute) {\n    // Titles for the attributes in the card body\n    var attributeTitles = {\n      first_name: \"\",\n      title: \"Title: \",\n      party: \"Party: \",\n      state: \"State: \"\n    }; // Maps the attribute values for the politician's party from letter to full\n    // name\n\n    var titleMap = {\n      \"D\": \"Democratic\",\n      \"R\": \"Republican\"\n    };\n\n    switch (attribute) {\n      // If the attribute equal to \"first_name\", renders the \n      // attribute with a CardTitle\n      case \"first_name\":\n        return React.createElement(CardTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464\n          },\n          __self: this\n        }, attributeTitles[attribute], React.createElement(Highlighter, {\n          highlightClassName: \"HighlightClass\",\n          searchWords: this.state.input.split(\" \"),\n          autoEscape: true,\n          textToHighlight: \"\" + item[attribute] + \" \" + item[\"last_name\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464\n          },\n          __self: this\n        }));\n\n      case \"party\":\n        return React.createElement(CardSubtitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        }, attributeTitles[attribute], React.createElement(Highlighter, {\n          highlightClassName: \"HighlightClass\",\n          searchWords: this.state.input.split(\" \"),\n          autoEscape: true,\n          textToHighlight: \"\" + titleMap[item.party],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          },\n          __self: this\n        }));\n      // If the attribute is equal to \"active\", renders the \n      // attribute with the congresses the politician has been active in\n\n      case \"active\":\n        return React.createElement(CardSubtitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 484\n          },\n          __self: this\n        }, \"Active from: Congress \", item.congresses[0][\"con_num\"], \"- Congress \", item.congresses[item.congresses.length - 1][\"con_num\"]);\n\n      default:\n        return React.createElement(CardSubtitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 492\n          },\n          __self: this\n        }, attributeTitles[attribute], React.createElement(Highlighter, {\n          highlightClassName: \"HighlightClass\",\n          searchWords: this.state.input.split(\" \"),\n          autoEscape: true,\n          textToHighlight: \"\" + item[attribute],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 492\n          },\n          __self: this\n        }));\n    }\n  }\n  /*\r\n   * Renders a card item.\r\n   */\n\n\n  renderCard(item) {\n    // List of attributes that whose information will be rendered on each card\n    var attributeList = [\"first_name\", \"title\", \"party\", \"state\", \"active\"];\n    return React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, React.createElement(CardImg, {\n      top: true,\n      width: \"80%\",\n      src: item.image_url,\n      alt: \"No image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }), React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, attributeList.map(attribute => this.renderAttribute(item, attribute)), React.createElement(Button, {\n      href: \"/politician/\" + item.member_id,\n      class: \"nav-link\",\n      to: \"/politician/\" + item.member_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, \" See More\")));\n  }\n  /*\r\n   * Creates the cards for the politicians. Loops 3 times to create 3 card decks \r\n   * items with 3 card items. Returns all 3 card deck items at the end. \r\n   */\n\n\n  renderCards() {\n    const items = this.state.items;\n    var cardDecks = []; // Will hold the card deck items\n\n    var cards = []; // Will hold the card \n    // Need 3 card deck items so loop 3 times\n\n    for (var i = 0; i < 3; i++) {\n      cards = []; // Clears out the old card items to make a new one\n      // Grabs 3 pieces of data at a time, creates card items for each of them\n      // and adds each one to the cards list\n\n      items.slice(i * 3, (i + 1) * 3).map(item => cards.push(this.renderCard(item))); // Adds the 3 newly created cards to the cardDecks list\n\n      cardDecks.push(React.createElement(CardDeck, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, cards));\n    }\n\n    return cardDecks;\n  }\n  /*\r\n   * Renders the entire page.\r\n   */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550\n      },\n      __self: this\n    }, this.renderTop()), React.createElement(\"div\", {\n      className: \"Representatives\",\n      style: {\n        paddingTop: \"100px\",\n        width: \"100%\",\n        height: \"60%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }, this.renderCards())), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562\n      },\n      __self: this\n    }, React.createElement(MyPagination, {\n      pages: this.state.pages,\n      handlePageClick: this.handlePageClick,\n      nextpage: this.state.nextpage,\n      lastpage: this.state.lastpage,\n      page: this.state.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563\n      },\n      __self: this\n    }))));\n  }\n\n}\nexport default Representatives;","map":{"version":3,"sources":["C:\\Users\\Docker\\swe\\EmPoweringKnowledge\\cs373-web\\frontend\\empoweringknowledge\\src\\Representatives.js"],"names":["React","Component","MyPagination","Button","ButtonGroup","Col","Card","CardImg","CardBody","CardTitle","CardSubtitle","CardDeck","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","Form","FormGroup","Input","Pagination","PaginationItem","Row","BrowserRouter","Highlighter","RepresentativeInstance","POLIURL","ORDER","Representatives","constructor","props","state","page","pages","nextpage","lastpage","items","input","isLoading","sortBy","attributes","first_name","last_name","title","party","dropdownOpen","dropDownSelections","handleTermChange","bind","handleSearch","handleEnter","handleSubmit","handlePageClick","componentDidMount","setState","url","buildUrl","console","log","fetch","then","res","json","data","objects","total_pages","catch","filter","buildFilter","buildSearch","keys","Object","currAttribute","currAttributeVal","i","length","search","split","j","e","target","value","key","newPage","preventDefault","handleSorting","sort","handleFilter","attribute","newAttributes","handleReset","setDropdownOpen","newdropdownOpen","setDropDownTitle","selection","newDropDownSelections","renderFilterButtonGroup","filterOptions","filterTitles","setMaxHeight","enabled","order","fn","styles","overflow","maxHeight","map","renderTop","attributesList","paddingTop","size","offset","renderAttribute","item","attributeTitles","titleMap","congresses","renderCard","attributeList","image_url","member_id","renderCards","cardDecks","cards","slice","push","render","width","height"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport MyPagination from \"./Pagination.js\";\r\nimport {\r\n    Button, ButtonGroup, Col, Card, CardImg, CardBody, CardTitle, \r\n    CardSubtitle, CardDeck, Dropdown, DropdownToggle, DropdownMenu, \r\n    DropdownItem, Form, FormGroup, Input, Pagination, PaginationItem, Row\r\n     } from 'reactstrap';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport './Navbar.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {RepresentativeInstance} from './RepresentativeInstance.js';\r\n\r\nconst POLIURL = 'https://api.empoweringknowledge.me/api/congressmembers';\r\nconst ORDER = '\"order_by\":[{\"field\":\"first_name\",\"direction\":\"';\r\n\r\nexport class Representatives extends Component {\r\n\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        page: 1,\r\n\t\tpages: 0,\r\n\t\tnextpage: 2,\r\n\t\tlastpage: 1,\r\n        items: [],\r\n        input: \"\",\r\n        isLoading: false,\r\n        sortBy: \"asc\",\r\n        attributes: {\r\n            first_name: \"\", \r\n            last_name: \"\",\r\n            title: \"\", \r\n            party: \"\", \r\n            state: \"\"},\r\n        dropdownOpen: {\r\n            title: false, \r\n            party: false, \r\n            state: false},\r\n        dropDownSelections: {\r\n            title: \"None\", \r\n            party: \"None\", \r\n            state: \"None\"},\r\n    }\r\n    this.handleTermChange = this.handleTermChange.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n\tthis.handleSubmit = this.handleSubmit.bind(this); \r\n\tthis.handlePageClick = this.handlePageClick.bind(this); \r\n}\r\n\r\ncomponentDidMount() {\r\n    this.setState({isLoading: true});\r\n\r\n    var url = this.buildUrl();\r\n    console.log(url);\r\n    fetch(url)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, items: data.objects, \r\n                pages:data.total_pages,isLoading: false}, () => {\r\n                if(this.state.pages <= 1)\r\n                    this.setState({nextpage: 1})    \r\n            });      \r\n        })\r\n        .catch(console.log);\r\n}\r\n\r\n/*\r\n * Builds the url that will be used to fetch the data.\r\n */\r\nbuildUrl(){\r\n    var filter = \"\";\r\n    var url = \"\";\r\n    \r\n    filter = this.buildFilter();\r\n    filter = this.buildSearch(filter);\r\n    \r\n    // If there aren't any filters or terms for searching, use default url\r\n    // that displays data in ascending order\r\n    if(filter === \"\"){\r\n        url = POLIURL + '?q={'\r\n        + ORDER \r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    } else{ // Else, add the filters and search query\r\n        url = POLIURL + '?q={\"filters\":['\r\n        + filter\r\n        + '],'\r\n        + ORDER\r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    }\r\n\r\n    return url;\r\n}\r\n\r\n/*\r\n * Loops through all of the of the model's filterable attributes and checks if \r\n * there is a filter being applied. If there is, it adds that filter query to \r\n * the filter string. \r\n */\r\nbuildFilter(){\r\n    var filter = \"\";\r\n    var keys = Object.keys(this.state.attributes); // Grabs list of attributes\r\n    var currAttribute = \"\";\r\n    var currAttributeVal = \"\";\r\n\r\n    for(var i = 2; i < keys.length; i++){\r\n        currAttribute = keys[i];\r\n        currAttributeVal = this.state.attributes[currAttribute];\r\n\r\n        // Checks if currAttribute is title, if it is then do a \"like\" operation\r\n        if(currAttribute === \"title\"){\r\n            if(currAttributeVal !== \"\"){\r\n                if(filter === \"\"){\r\n                    filter += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'\r\n                    + currAttributeVal +'%\"}'\r\n                }else{\r\n                    filter += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'\r\n                    + currAttributeVal +'%\"}' \r\n                }   \r\n            }\r\n        }\r\n        // Checks the rest of the attributes\r\n        else if(currAttributeVal !== \"\"){\r\n            if(filter === \"\"){\r\n                filter += '{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"eq\",\"val\":\"'+ currAttributeVal +'\"}'\r\n            }else{\r\n                filter += ',{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"eq\",\"val\":\"'+ currAttributeVal +'\"}'\r\n            }\r\n        }\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n/*\r\n * Loops through all of the model's attributes and adds a search query for each\r\n * term the user inputs. \r\n */\r\nbuildSearch(filter){\r\n    var search = \"\";\r\n    var input = [];\r\n    var keys = Object.keys(this.state.attributes);\r\n    var currAttribute = \"\";\r\n\r\n    input = this.state.input.split(\" \"); // List of terms the user inputs\r\n\r\n    // Checks if there's atleast one search term\r\n    if(input[0] != \"\"){\r\n        // Checks if anything precedes this query\r\n        // If something does, add a comma\r\n        if(filter === \"\"){ \r\n            search = '{\"or\":['\r\n        }\r\n        else{\r\n            search = ',{\"or\":['\r\n        }\r\n\r\n        // Loops through each of the attributes\r\n        for(var j = 0; j < keys.length; j++){\r\n            // Loops through each term the user inputs\r\n            for(var i = 0; i < input.length; i++){\r\n                currAttribute = keys[j]\r\n                // Special case, adds comma if this is the first entry in the \r\n                // search query \r\n                if(currAttribute === \"first_name\" && i == 0)\r\n                    search += '{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n                else\r\n                    search += ',{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n            }\r\n        }\r\n\r\n        search += \"]}\";\r\n        filter += search;\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n/*\r\n * Sets the state input variable to what the user types.\r\n */\r\nhandleTermChange(e) {\r\n    this.setState({ input: e.target.value });    \r\n}\r\n\r\n/*\r\n * Calls componentDidMount so the data that is displayed is updated.\r\n */\r\nhandleSearch() {\r\n  this.componentDidMount();\r\n}\r\n\r\n/*\r\n * If the user presses 'Enter', calls the handleSearch() method so that the \r\n * search is made.\r\n */\r\nhandleEnter(e) {   \r\n    if (e.key === 13) {\r\n    this.handleSearch();\r\n    }\r\n}\r\n\r\n/*\r\n* Updates page variables that are used in pagination when the user clicks \r\n* on a new page number to go to. Then calls componentDidMount() so that the \r\n* new data is loaded. \r\n*/\r\nhandlePageClick(newPage){\r\n\tif(newPage === 1){\r\n\t\tthis.setState({lastpage: newPage, page: newPage, nextpage: 2}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n\telse if(newPage === this.state.pages){\r\n\t\tthis.setState({lastpage: newPage - 1, page: newPage, \r\n            nextpage: newPage}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n\telse{\r\n\t\tthis.setState({lastpage: newPage - 1, page: newPage, \r\n            nextpage: newPage + 1}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/*\r\n * If the user clicks on the 'Submit' buttion, calls the handleSearch() \r\n * method so that the search is made.\r\n */  \r\nhandleSubmit(e) {\r\n    e.preventDefault();\r\n    this.handleSearch();\r\n}\r\n\r\n/*\r\n * Sets the state sort variable to what the user chooses. Either 'asc' \r\n * or 'desc.' Then calls componentDidMount() so that the new data is loaded. \r\n */\r\nhandleSorting(sort){\r\n    this.setState({sortBy: sort}, () => {\r\n    this.componentDidMount();\r\n    });\r\n\r\n}\r\n\r\n/*\r\n * Updates the state attributes variable to what the user chooses for the \r\n * specified filter. Then calls componentDidMount() so that the new data \r\n * is loaded. \r\n */\r\nhandleFilter(attribute, filter){\r\n    var newAttributes = this.state.attributes;\r\n    newAttributes[attribute] = filter;\r\n\r\n    this.setState({attributes: newAttributes, page: 1, \r\n                   nextpage: 2, lastpage: 1}, () =>{\r\n    this.componentDidMount();\r\n    });\r\n}\r\n\r\n/*\r\n * Resets all the attributes and variables that are used for filtering, \r\n * searching, and pagination to their default. Then calls componentDidMount() \r\n * so that the new data is loaded. \r\n */\r\nhandleReset(){\r\n    this.setState({\r\n        dropDownSelections: {\r\n            \"title\":\"None\", \r\n            \"party\": \"None\", \r\n            \"state\":\"None\"}, \r\n        input: \"\",\r\n        attributes: {\r\n            first_name: \"\", \r\n            last_name: \"\",\r\n            title: \"\", \r\n            party: \"\", \r\n            state: \"\"},\r\n        page: 1, \r\n        nextpage: 2, \r\n        lastpage: 1}, () =>{\r\n    this.componentDidMount();\r\n    });\r\n}\r\n\r\n/*\r\n * Toggles the dropdown option for the specified filterable attribute.\r\n */\r\nsetDropdownOpen(attribute){\r\n    var newdropdownOpen = this.state.dropdownOpen;\r\n    newdropdownOpen[attribute] = !newdropdownOpen[attribute];\r\n\r\n    this.setState({dropdownOpen: newdropdownOpen});\r\n}\r\n\r\n/*\r\n * Sets the title variable for the dropdown menu of the correct filter. Then\r\n * checks the attribute that was passed in. Updates variables where needed and \r\n * calls handleFilter() with the attribute name and value.\r\n */\r\nsetDropDownTitle(attribute, selection){\r\n    var newDropDownSelections = this.state.dropDownSelections;\r\n    newDropDownSelections[attribute] = selection;\r\n\r\n    this.setState({dropDownSelections: newDropDownSelections});\r\n\r\n    if(selection === \"None\"){\r\n        selection = \"\";\r\n    }\r\n\r\n    // Special case, If attribute is \"party,\" then change selection to D or R\r\n    // based on what selection is equal to\r\n    if(attribute === \"party\"){\r\n        switch(selection){\r\n            case \"Democratic\":\r\n                selection = \"D\"\r\n                break;\r\n            case \"Republican\":\r\n                selection = \"R\"\r\n                break;\r\n        }\r\n    }\r\n\r\n    this.handleFilter(attribute, selection);\r\n}\r\n\r\n/* \r\n * Renders the button group for filters.\r\n */\r\nrenderFilterButtonGroup(attribute, filterOptions, filterTitles){ \r\n    return (\r\n    <Dropdown isOpen={this.state.dropdownOpen[attribute]} toggle={() => this.setDropdownOpen(attribute)}>\r\n        <DropdownToggle caret>\r\n            Filter by {filterTitles[attribute]}: {this.state.dropDownSelections[attribute]}\r\n        </DropdownToggle>\r\n        <DropdownMenu \r\n            modifiers={{\r\n                setMaxHeight: {\r\n                    enabled: true,\r\n                    order: 890,\r\n                    fn: (data) => {\r\n                      return {\r\n                        ...data,\r\n                        styles: {\r\n                          ...data.styles,\r\n                          overflow: 'auto',\r\n                          maxHeight: 150,\r\n                        },\r\n                      };\r\n                    },\r\n                },\r\n            }}>{\r\n                filterOptions[attribute].map((selection) =>\r\n                    <DropdownItem onClick={() => this.setDropDownTitle(attribute, selection)}>{selection}</DropdownItem>\r\n                )\r\n            }\r\n        </DropdownMenu>{' '}\r\n    </Dropdown>\r\n    )\r\n}\r\n\r\n/*\r\n * Renders the buttons for filters and sorting.\r\n */\r\nrenderTop(){\r\n    // Lists of all of the options for filtering for each attribute\r\n    var filterOptions = {\r\n        title: [\r\n            \"None\", \"Representative\", \"Senator\"],\r\n        party: [\r\n            \"Democratic\", \"Republican\"],\r\n        state: [\r\n            \"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \r\n            \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\",\r\n            \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\",\r\n            \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\",\r\n            \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\",\r\n            \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\",\r\n            \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\",\r\n            \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \r\n            \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\",\r\n            \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"]\r\n    }\r\n\r\n    // Titles for the filter buttons, \"Filter by: _____\"\r\n    var filterTitles = {\r\n        title: \"Title\",\r\n        party: \"party\",\r\n        state: \"State\"\r\n    }\r\n\r\n    // Grabs list of filterable attributes\r\n    var attributesList = Object.keys(filterOptions);\r\n\r\n    return(\r\n        <container>\r\n            <Row>\r\n                <Col className=\"text-left\">\r\n                    <ButtonGroup>{\r\n                            // Renders all the filter buttons\r\n                            attributesList.map((attribute) => \r\n                                this.renderFilterButtonGroup(attribute, filterOptions, filterTitles))         \r\n                        }\r\n                        <Button onClick={() => this.handleReset()}>Reset</Button>{' '}\r\n                    </ButtonGroup>\r\n                </Col>\r\n                <Col className=\"text-right\">\r\n                    <Button color=\"primary\" onClick={() => this.handleSorting(\"asc\")}>Ascending</Button>{' '}\r\n                    <Button color=\"secondary\"onClick={() => this.handleSorting(\"desc\")}>Descending</Button>{' '}\r\n                </Col>\r\n            </Row>\r\n            <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n                <FormGroup row style={{paddingTop: \"25px\"}}>\r\n                    <Col sm={{ size: 'auto', offset: 5 }}>\r\n                        <Input\r\n                            type=\"text\"\r\n                            placeholder=\"Search\"\r\n                            onChange={this.handleTermChange}\r\n                            onKeyDown={this.handleEnter}\r\n                        />\r\n                    </Col>\r\n                </FormGroup>\r\n            </Form>\r\n\r\n        </container>\r\n    );\r\n}\r\n\r\n/*\r\n * Renders the body of a card item.\r\n */\r\n renderAttribute(item, attribute){\r\n    // Titles for the attributes in the card body\r\n    var attributeTitles = {\r\n        first_name: \"\",\r\n        title: \"Title: \",\r\n        party: \"Party: \",\r\n        state: \"State: \"\r\n    }\r\n\r\n    // Maps the attribute values for the politician's party from letter to full\r\n    // name\r\n    var titleMap ={\r\n        \"D\": \"Democratic\",\r\n        \"R\": \"Republican\",\r\n    }\r\n\r\n    switch(attribute){\r\n        // If the attribute equal to \"first_name\", renders the \r\n        // attribute with a CardTitle\r\n        case \"first_name\":\r\n           return(\r\n                <CardTitle>{attributeTitles[attribute]}<Highlighter\r\n                    highlightClassName=\"HighlightClass\"\r\n                    searchWords={this.state.input.split(\" \")}\r\n                    autoEscape={true}\r\n                    textToHighlight={\"\" + item[attribute] + \" \" + item[\"last_name\"]}/>\r\n                </CardTitle>\r\n            )\r\n        case \"party\":\r\n            return(\r\n                <CardSubtitle>{attributeTitles[attribute]}<Highlighter\r\n                    highlightClassName=\"HighlightClass\"\r\n                    searchWords={this.state.input.split(\" \")}\r\n                    autoEscape={true}\r\n                    textToHighlight={\"\" + titleMap[item.party]}/>\r\n                </CardSubtitle>\r\n            )\r\n        // If the attribute is equal to \"active\", renders the \r\n        // attribute with the congresses the politician has been active in\r\n        case \"active\":\r\n            return(\r\n                <CardSubtitle>\r\n                    Active from: Congress {item.congresses[0][\"con_num\"]} \r\n                     - Congress {item.congresses[item.congresses.length - 1]\r\n                        [\"con_num\"]}\r\n                </CardSubtitle>\r\n            )\r\n        default:\r\n            return(\r\n                <CardSubtitle>{attributeTitles[attribute]}<Highlighter\r\n                    highlightClassName=\"HighlightClass\"\r\n                    searchWords={this.state.input.split(\" \")}\r\n                    autoEscape={true}\r\n                    textToHighlight={\"\" + item[attribute]}/>\r\n                </CardSubtitle>\r\n            )\r\n    }\r\n        \r\n}\r\n\r\n/*\r\n * Renders a card item.\r\n */\r\nrenderCard(item){\r\n    // List of attributes that whose information will be rendered on each card\r\n    var attributeList = [\"first_name\", \"title\", \"party\", \"state\", \"active\"]; \r\n\r\n    return(\r\n        <Card>\r\n            <CardImg top width=\"80%\" src={item.image_url}  alt={\"No image\"} />\r\n            <CardBody>{\r\n                attributeList.map((attribute) => this.renderAttribute(item, attribute))\r\n            }\r\n            <Button href= {\"/politician/\" + item.member_id} class=\"nav-link\"  to={\"/politician/\" + item.member_id}> See More</Button>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}\r\n\r\n/*\r\n * Creates the cards for the politicians. Loops 3 times to create 3 card decks \r\n * items with 3 card items. Returns all 3 card deck items at the end. \r\n */\r\nrenderCards(){\r\n    const items = this.state.items;\r\n    var cardDecks = []; // Will hold the card deck items\r\n    var cards = []; // Will hold the card \r\n   \r\n    // Need 3 card deck items so loop 3 times\r\n    for(var i = 0; i < 3; i++){\r\n        cards = []; // Clears out the old card items to make a new one\r\n        // Grabs 3 pieces of data at a time, creates card items for each of them\r\n        // and adds each one to the cards list\r\n        items.slice(i * 3,(i + 1) * 3).map(item => cards.push(this.renderCard(item))\r\n        )\r\n        // Adds the 3 newly created cards to the cardDecks list\r\n        cardDecks.push(<CardDeck>{cards}</CardDeck>);\r\n    }\r\n    return cardDecks;\r\n}\r\n\r\n/*\r\n * Renders the entire page.\r\n */\r\nrender() {\r\n    return (\r\n        <div>\r\n            <div>\r\n                {this.renderTop()}\r\n            </div>\r\n            <div className=\"Representatives\" style={{\r\n                    paddingTop: \"100px\",\r\n                    width:\"100%\", \r\n                    height:\"60%\"}}>\r\n                <div>\r\n                    <Col sm={{ size: 'auto'}}>\r\n                        {this.renderCards()}\r\n                    </Col>\r\n                </div>\r\n                <div>\r\n                    <MyPagination \r\n                        pages = {this.state.pages} \r\n                        handlePageClick = {this.handlePageClick}\r\n                        nextpage = {this.state.nextpage} \r\n                        lastpage = {this.state.lastpage}\r\n                        page = {this.state.page}/> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n}\r\n\r\nexport default Representatives;"]},"metadata":{},"sourceType":"module"}