{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Docker\\\\swe\\\\EmPoweringKnowledge\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\src\\\\EnergyBills.js\";\nimport React, { Component } from \"react\";\nimport './Navbar.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Table, Col, Pagination, PaginationItem, PaginationLink, Form, FormGroup, Label, Input, Button } from 'reactstrap';\nexport class EnergyBills extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getBillResults = () => {\n      let searchTerms = [...new Set(this.state.input.toLowerCase().trim().split(\" \"))];\n      var billData;\n      searchTerms.map(query => billData.add(this.state.bills.filter(bill => {\n        return bill.committees.toLowerCase().includes(query) || bill.introduced_date.toLowerCase().includes(query) || bill.senate_passage.toLowerCase().includes(query) || bill.title.toLowerCase().includes(query) || bill.sponsor_id.toLowerCase().includes(query);\n      })));\n      var array = [];\n\n      for (var x = 0; x < billData.length; x++) {\n        array.push(React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \" \", billData[x].title, \" \", React.createElement(Highlighter, {\n          highlightClassName: \"HighlightClass\",\n          searchWords: searchTerms,\n          autoEscape: true,\n          textToHighlight: billData[x].title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \" \", billData[x].sponsor_id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \" \", billData[x].committees), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \" \", billData[x].introduced_date), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \" \", billData[x].house_passage), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \" \", billData[x].senate_passage), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \" \", billData[x].cosponsors_by_party_D), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \" \", billData[x].cosponsors_by_party_R)));\n      }\n\n      return array;\n    };\n\n    this.state = {\n      items: [],\n      page: 1,\n      pages: 0,\n      nextpage: 2,\n      lastpage: 1,\n      isLoading: false,\n      input: \"\"\n    };\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleEnter = this.handleEnter.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    var val;\n    fetch('https://api.empoweringknowledge.me/api/bills' + \"?page=\" + this.state.page).then(res => res.json()).then(data => {\n      val = data.objects;\n      this.setState({\n        items: data.objects,\n        isLoading: false,\n        pages: data.total_pages\n      });\n    }).catch(console.log);\n  }\n\n  loadData() {\n    var total = 300;\n\n    for (var i = 0; i < total; i++) {\n      fetch('https://api.empoweringknowledge.me/api/bills' + \"?page=\" + i).then(res => res.json()).then(data => {\n        total = data.total_pages;\n        this.setState({\n          bills: data.objects\n        });\n      }).catch(console.log);\n    }\n  }\n\n  handlePageClick(newPage) {\n    if (newPage === 1) {\n      this.setState({\n        lastpage: newPage,\n        page: newPage,\n        nextpage: 2\n      }, () => {\n        this.componentDidMount();\n      });\n    } else if (newPage === this.state.pages) {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage\n      }, () => {\n        this.componentDidMount();\n      });\n    } else {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage + 1\n      }, () => {\n        this.componentDidMount();\n      });\n    }\n  }\n\n  handleTermChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  handleSearch() {\n    let searchTerms = [...new Set(this.state.input.toLowerCase().trim().split(\" \"))];\n    this.state.items.map(item => searchTerms.map(terms => console.log(terms)));\n    console.log(this.state.input);\n  }\n\n  handleEnter(e) {\n    if (e.key === 13) {\n      this.handleSearch();\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.handleSearch();\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          isLoading = _this$state.isLoading; //console.log(isLoading)\n\n    if (isLoading) {\n      //console.log(isLoading)\n      return false;\n    } // console.log(items)     \n\n\n    const input = this.state.input.input;\n    return React.createElement(\"div\", {\n      className: \"EnergyBills\",\n      style: {\n        paddingTop: \"2%\",\n        width: \"100%\",\n        height: \"60%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"searchbox\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      style: {\n        width: '50%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"exampleEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Search\"), React.createElement(Input\n    /*innerRef={(node) => this.state.input = node}*/\n    , {\n      value: input,\n      onChange: this.handleTermChange,\n      onKeyDown: this.handleEnter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: e => {\n        this.handleSearch(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Search\"))), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Energy Bills\"), React.createElement(Col, {\n      sm: {\n        size: 'auto'\n      },\n      style: {\n        paddingTop: \"2%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Sponsor\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Committees\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Introduced Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"House Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Senate Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Democrat Cosponsors\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Republican Cosponsors\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, items.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/bill/\" + item.bill_id,\n      to: \"/bill/\" + item.bill_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, item.title)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/politician/\" + item.sponsor_id,\n      to: \"/politician/\" + item.sponsor_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, item.sponsor_id)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \" \", item.committees), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \" \", item.introduced_date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \" \", item.house_passage), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \" \", item.senate_passage), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \" \", item.cosponsors_by_party_D), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \" \", item.cosponsors_by_party_R))))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      size: \"lg\",\n      style: {\n        justifyContent: 'center',\n        paddingTop: '3%'\n      },\n      \"aria-label\": \"Page navigation example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      first: true,\n      onClick: () => this.handlePageClick(1),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    })), React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      previous: true,\n      onClick: () => this.handlePageClick(this.state.lastpage),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })), React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      onClick: () => this.handlePageClick(this.state.page),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, this.state.page)), React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      onClick: () => this.handlePageClick(this.state.nextpage),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, this.state.nextpage)), React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      next: true,\n      onClick: () => this.handlePageClick(this.state.nextpage),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(PaginationItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(PaginationLink, {\n      last: true,\n      onClick: () => this.handlePageClick(this.state.pages),\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })))));\n  }\n\n}\nexport default EnergyBills;","map":{"version":3,"sources":["C:\\Users\\Docker\\swe\\EmPoweringKnowledge\\cs373-web\\frontend\\empoweringknowledge\\src\\EnergyBills.js"],"names":["React","Component","Table","Col","Pagination","PaginationItem","PaginationLink","Form","FormGroup","Label","Input","Button","EnergyBills","constructor","props","getBillResults","searchTerms","Set","state","input","toLowerCase","trim","split","billData","map","query","add","bills","filter","bill","committees","includes","introduced_date","senate_passage","title","sponsor_id","array","x","length","push","house_passage","cosponsors_by_party_D","cosponsors_by_party_R","items","page","pages","nextpage","lastpage","isLoading","handleTermChange","bind","handleEnter","handleSubmit","handleSearch","componentDidMount","setState","val","fetch","then","res","json","data","objects","total_pages","catch","console","log","loadData","total","i","handlePageClick","newPage","e","target","value","item","terms","key","preventDefault","render","paddingTop","width","height","size","bill_id","justifyContent"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport './Navbar.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n    Table,Col, Pagination, PaginationItem, PaginationLink, Form, FormGroup, Label, Input, Button\r\n     } from 'reactstrap';\r\nexport class EnergyBills extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            page: 1,\r\n            pages: 0,\r\n            nextpage: 2,\r\n            lastpage: 1,\r\n            isLoading: false,\r\n            input: \"\",\r\n        }\r\n        this.handleTermChange = this.handleTermChange.bind(this);\r\n        this.handleEnter = this.handleEnter.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.setState({isLoading: true});\r\n        var val;\r\n        fetch('https://api.empoweringknowledge.me/api/bills'+ \"?page=\" + this.state.page)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            val = data.objects\r\n            this.setState({ items: data.objects,isLoading: false,pages:data.total_pages});      \r\n        })\r\n        .catch(console.log)\r\n      \r\n    }\r\n\r\n    loadData(){\r\n      var total = 300;\r\n      for(var i = 0; i < total; i++){\r\n          fetch('https://api.empoweringknowledge.me/api/bills'+ \"?page=\" + i)\r\n          .then(res => res.json())\r\n          .then((data) => {\r\n              total = data.total_pages\r\n              this.setState({ bills: data.objects});      \r\n          })\r\n          .catch(console.log)\r\n      }\r\n  }\r\n\r\n  getBillResults=  () => {\r\n      let searchTerms = [...new Set(this.state.input.toLowerCase().trim().split(\" \"))];\r\n      var billData;\r\n      searchTerms.map(query => \r\n          billData.add(this.state.bills.filter((bill) => {\r\n              return bill.committees.toLowerCase().includes(query)\r\n              || bill.introduced_date.toLowerCase().includes(query) || bill.senate_passage.toLowerCase().includes(query) ||\r\n              bill.title.toLowerCase().includes(query) || bill.sponsor_id.toLowerCase().includes(query)\r\n          }))\r\n      )\r\n      var array = [];\r\n      for (var x = 0; x < billData.length; x++) {\r\n          array.push(\r\n              <tr>\r\n                  <th scope=\"row\"></th>\r\n                  <td> {billData[x].title} <Highlighter\r\n                  highlightClassName=\"HighlightClass\"\r\n                  searchWords={searchTerms}\r\n                  autoEscape={true}\r\n                  textToHighlight={billData[x].title}\r\n                  />\r\n                  </td>\r\n                  <td> {billData[x].sponsor_id}</td>\r\n                  <td> {billData[x].committees}</td>\r\n                  <td> {billData[x].introduced_date}</td>\r\n                  <td> {billData[x].house_passage}</td>\r\n                  <td> {billData[x].senate_passage}</td>\r\n                  <td> {billData[x].cosponsors_by_party_D}</td>\r\n                  <td> {billData[x].cosponsors_by_party_R}</td>\r\n              </tr>\r\n          \r\n          );\r\n      }\r\n      return array;\r\n\r\n  };\r\n \r\n    handlePageClick(newPage){\r\n        if(newPage === 1){\r\n            this.setState({lastpage: newPage, page: newPage, nextpage: 2}, () => {\r\n            this.componentDidMount();\r\n            });\r\n        }\r\n        else if(newPage === this.state.pages){\r\n            this.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage}, () => {\r\n                this.componentDidMount();\r\n                });\r\n        }\r\n        else{\r\n            this.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage + 1}, () => {\r\n                this.componentDidMount();\r\n                });\r\n        }\r\n        \r\n    } \r\n\r\n    handleTermChange(e) {\r\n        this.setState({ input: e.target.value });\r\n    }\r\n\r\n    handleSearch() {\r\n        let searchTerms = [...new Set(this.state.input.toLowerCase().trim().split(\" \"))];\r\n        this.state.items.map(item =>\r\n          searchTerms.map(terms =>\r\n            console.log(terms)\r\n          \r\n          )      \r\n          \r\n        )\r\n        console.log(this.state.input)\r\n\r\n    }\r\n\r\n    handleEnter(e) {\r\n        if (e.key === 13) {\r\n        this.handleSearch();\r\n        }\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.handleSearch();\r\n   }\r\n\r\n    render() {\r\n\r\n        const {items, isLoading} = this.state;\r\n        //console.log(isLoading)\r\n        if (isLoading){\r\n            //console.log(isLoading)\r\n            return false;\r\n        }\r\n        \r\n       // console.log(items)     \r\n        const { input } = this.state.input;   \r\n        \r\n      return (\r\n        <div className=\"EnergyBills\" style={{paddingTop: \"2%\",width:\"100%\", height:\"60%\"}}>\r\n           <div>\r\n           <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n            <FormGroup style={{width: '50%'}}>\r\n                <Label for=\"exampleEmail\">Search</Label>\r\n                <Input  /*innerRef={(node) => this.state.input = node}*/\r\n                        value= {input}\r\n                        onChange={this.handleTermChange}\r\n                        onKeyDown={this.handleEnter}\r\n                />\r\n                <Button onClick={ (e) => {\r\n                          this.handleSearch(e)\r\n                        } }>Search</Button>\r\n              </FormGroup>\r\n            </Form>\r\n            <h4>Energy Bills</h4>\r\n            <Col sm={{ size: 'auto'}} style={{paddingTop: \"2%\"}}>\r\n            <Table hover responsive>\r\n                <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Title</th>\r\n                    <th>Sponsor</th>\r\n                    <th>Committees</th>\r\n                    <th>Introduced Date</th>\r\n                    <th>House Passage</th>\r\n                    <th>Senate Passage</th>\r\n                    <th>Democrat Cosponsors</th>\r\n                    <th>Republican Cosponsors</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                {items.map(item =>\r\n                  \r\n                    <tr>\r\n                        <th scope=\"row\"></th>\r\n                        <td> <a href= {\"/bill/\" + item.bill_id}   to={\"/bill/\" + item.bill_id}>{item.title}</a></td>\r\n                        <td> <a href= {\"/politician/\" + item.sponsor_id}   to={\"/politician/\" + item.sponsor_id}>{item.sponsor_id}</a></td>\r\n                        <td> {item.committees}</td>\r\n                        <td> {item.introduced_date}</td>\r\n                        <td> {item.house_passage}</td>\r\n                        <td> {item.senate_passage}</td>\r\n                        <td> {item.cosponsors_by_party_D}</td>\r\n                        <td> {item.cosponsors_by_party_R}</td>\r\n                    </tr>\r\n                )}\r\n                </tbody>\r\n            </Table>\r\n                </Col>\r\n            </div>\r\n        <div>\r\n        <Pagination size=\"lg\" style={{justifyContent: 'center', paddingTop:'3%'}} aria-label=\"Page navigation example\">\r\n        <PaginationItem>\r\n          <PaginationLink first onClick={() => this.handlePageClick(1)} href={\"#\"} />\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink previous onClick={() => this.handlePageClick(this.state.lastpage)} href={\"#\"} />\r\n        </PaginationItem>\r\n        {/* <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.lastpage)} href={\"#\"}>\r\n            {this.state.lastpage}\r\n          </PaginationLink>\r\n        </PaginationItem> */}\r\n        <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.page)} href={\"#\"}>\r\n            {this.state.page}\r\n          </PaginationLink>\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.nextpage)} href={\"#\"}>\r\n            {this.state.nextpage}\r\n          </PaginationLink>\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink next onClick={() => this.handlePageClick(this.state.nextpage)} href={\"#\"} />\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink last onClick={() => this.handlePageClick(this.state.pages)} href=\"#\" />\r\n        </PaginationItem>\r\n      </Pagination>\r\n      </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default EnergyBills;"]},"metadata":{},"sourceType":"module"}